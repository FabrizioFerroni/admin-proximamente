<app-nav></app-nav>

<div class="main-content">
  <section class="section">
    <div class="section-header">
      <h1>Usuarios</h1>
      <div class="section-header-breadcrumb">
        <div class="breadcrumb-item active"><a [routerLink]="['/tablero']">Tablero</a></div>
        <div class="breadcrumb-item">Usuarios</div>
      </div>
    </div>

    <div class="section-body">
      <h2 class="section-title">Usuarios</h2>
      <p class="section-lead">
        Listar los usuarios de la aplicaci√≥n.
      </p>
      <div class="row">
        <div class="col-12">
          <div class="card">
            <div class="card-body p-0">
              <div class="table-responsive">
                <table class="table table-hover table-striped text-center">
                  <thead>
                    <tr class="text-uppercase">
                      <th class="">
                        Id
                      </th>
                      <th>Nombre</th>
                      <th>Email</th>
                      <th>Estado</th>
                      <th>Fecha de alta</th>
                    </tr>
                  </thead>
                  <ng-container *ngIf="usuarios.length==0 && !load_data">
                    <tbody>
                      <tr>
                        <td colspan="5" class="text-center">
                         <span class="text-muted">No hay registro de suscriptores</span>
                        </td>
                      </tr>
                    </tbody>

                  </ng-container>
                  <tbody *ngIf="load_data">
                    <tr>
                      <td class="text-center" colspan="5">
                        <div class="spinner-border mt-20" style="width: 3rem; height: 3rem;" role="status">
                        </div>
                        <span class="d-block mtb-20">Cargando...</span>
                      </td>
                    </tr>
                  </tbody>
                  <ng-container *ngIf="!load_data" >
                  <tbody>
                    <tr *ngFor="let item of usuarios | paginate: { itemsPerPage: pageSize, currentPage: page }">
                      <td class="p-0 text-center">
                        {{item.id}}
                      </td>
                      <td>
                        {{ item.nombre }}
                      </td>
                      <td>
                        {{item.email}}
                      </td>
                      <td>
                        <div class="badge badge-success">Activo</div>
                      </td>
                      <td>{{ item.fecha_creacion | date:'dd/MM/yy' }}</td>

                    </tr>
                  </tbody>
                </ng-container>
                </table>
                <ng-container *ngIf="usuarios.length >= 1">
                  <pagination-template class="d-flex justify-content-center" #p="paginationApi" (pageChange)="page = $event">
                    <ul class="pagination ml-2">
                      <li class="page-item" [class.disabled]="p.isFirstPage()">
                        <a class="page-link item" *ngIf="!p.isFirstPage()"  (click)="p.previous()" tabindex="-1">Anterior</a>
                      </li>

                      <div *ngFor="let page of p.pages" [class.current]="p.getCurrent() === page.value">
                        <li class="page-item">
                          <a class="page-link item" (click)="p.setCurrent(page.value)" *ngIf="p.getCurrent() !== page.value">
                            <span class="">{{ page.label }}</span>
                          </a>
                        </li>
                        <div *ngIf="p.getCurrent() === page.value">
                          <li class="page-item">
                            <a class="page-link active_item" >
                              <span class="">{{ page.label }}</span>
                            </a>
                          </li>
                        </div>
                      </div>
                      <li class="page-item" [class.disabled]="p.isLastPage()">
                        <a class="page-link item" *ngIf="!p.isLastPage()" (click)="p.next()">Siguiente</a>
                      </li>
                    </ul>

                  </pagination-template>
                </ng-container>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>

<app-footer></app-footer>
